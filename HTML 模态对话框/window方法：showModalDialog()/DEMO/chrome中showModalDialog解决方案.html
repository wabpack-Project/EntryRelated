<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>



<script>
	function myShowModalDialog(url, width, height, callback)
	{
		if(window.showModalDialog)
		{
			if(callback)
			{
				var rlt = showModalDialog(url, '', 'resizable:no;scroll:no;status:no;center:yes;help:no;dialogWidth:' + width + ' px;dialogHeight:' + height + ' px');
				if(rlt)
					return callback(rlt);
				else
				{
					callback(window.returnValue);
				}
			}
			else
				showModalDialog(url, '', 'resizable:no;scroll:no;status:no;center:yes;help:no;dialogWidth:' + width + ' px;dialogHeight:' + height + ' px');
		}
		else
		{
			if(callback)
				window.showModalDialogCallback = callback;
			var top = (window.screen.availHeight-30-height)/2; //获得窗口的垂直位置;
			var left = (window.screen.availWidth-10-width)/2; //获得窗口的水平位置;
			var winOption = "top="+top+",left="+left+",height="+height+",width="+width+",resizable=no,scrollbars=no,status=no,toolbar=no,location=no,directories=no,menubar=no,help=no";
			window.open(url,window, winOption);
		}
	}

		myShowModalDialog("test.html", 500, 4000, function(resv){
			alert(resv);//原窗口关闭处理流程
		});
	
</script>

</body>
</html>